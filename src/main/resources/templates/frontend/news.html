<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€æ–°æ¶ˆæ¯ | PetGuardian</title>
    <link rel="stylesheet" href="../../static/css/frontend/style.css">
    <link rel="stylesheet" href="../../static/css/frontend/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .page-header {
            background: linear-gradient(135deg, #fffcf5 0%, #faedcd 100%);
            padding: 3rem 0;
            margin-bottom: 2rem;
            border-bottom-left-radius: 24px;
            border-bottom-right-radius: 24px;
        }
    </style>
</head>

<body>

    <header id="main-header" class="header"></header>

    <div class="page-header">
        <div class="container">
            <h1 class="text-center mb-1">ğŸ“° æœ€æ–°æ¶ˆæ¯</h1>
            <p class="text-center" style="color: #666;">æŒæ¡æœ€æ–°çš„å¹³å°å…¬å‘Šã€æ´»å‹•è³‡è¨Šèˆ‡å¯µç‰©ç…§è­·çŸ¥è­˜</p>
        </div>
    </div>

    <div class="container" style="padding: 0 1rem;">

        <div style="max-width: 800px; margin: 0 auto;">

            <!-- News Item 1 -->
            <div class="card mb-2" style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                <img src="https://images.unsplash.com/photo-1548199973-03cce0bbc87b?auto=format&fit=crop&q=80&w=300"
                    style="width: 200px; height: 150px; object-fit: cover; border-radius: 8px;">
                <div style="flex: 1;">
                    <div class="d-flex justify-between align-center mb-1">
                        <span class="badge badge-primary">å¹³å°å…¬å‘Š</span>
                        <span style="color: #999; font-size: 0.9rem;">2023/12/28</span>
                    </div>
                    <h3 class="mb-1">PetGuardian APP æ­£å¼ä¸Šç·šå•¦ï¼</h3>
                    <p style="color: #666; margin-bottom: 1rem;">
                        ç‚ºäº†æä¾›æ›´ä¾¿æ·çš„æœå‹™ï¼Œæˆ‘å€‘çš„ iOS èˆ‡ Android ç‰ˆæœ¬å·²ç¶“æ­£å¼ä¸Šæ¶ã€‚ç«‹å³ä¸‹è¼‰é«”é©—éš¨æ™‚éš¨åœ°çš„å¯µç‰©ç…§è­·æœå‹™...
                    </p>
                    <a href="#" class="text-primary" style="font-weight: 700;">é–±è®€æ›´å¤š -></a>
                </div>
            </div>

            <!-- News Item 2 -->
            <div class="card mb-2" style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                <img src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?auto=format&fit=crop&q=80&w=300"
                    style="width: 200px; height: 150px; object-fit: cover; border-radius: 8px;">
                <div style="flex: 1;">
                    <div class="d-flex justify-between align-center mb-1">
                        <span class="badge badge-accent">ç…§è­·çŸ¥è­˜</span>
                        <span style="color: #999; font-size: 0.9rem;">2023/12/25</span>
                    </div>
                    <h3 class="mb-1">å†¬å­£å¯µç‰©ä¿æš–å¤§ä½œæˆ°</h3>
                    <p style="color: #666; margin-bottom: 1rem;">
                        å¯’æµä¾†è¥²ï¼Œå®¶è£¡çš„æ¯›å°å­©ä¹Ÿéœ€è¦ä¿æš–å—ï¼Ÿç¸é†«å¸«å»ºè­°æ°£æº«ä½æ–¼15åº¦æ™‚ï¼ŒçŸ­æ¯›è²“ç‹—æ‡‰æ³¨æ„...
                    </p>
                    <a href="#" class="text-primary" style="font-weight: 700;">é–±è®€æ›´å¤š -></a>
                </div>
            </div>

            <!-- News Item 3 -->
            <div class="card mb-2" style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                <img src="https://images.unsplash.com/photo-1623387641168-d9803ddd3f35?auto=format&fit=crop&q=80&w=300"
                    style="width: 200px; height: 150px; object-fit: cover; border-radius: 8px;">
                <div style="flex: 1;">
                    <div class="d-flex justify-between align-center mb-1">
                        <span class="badge badge-secondary" style="background: #e3f2fd; color: #1565c0;">åˆä½œå„ªæƒ </span>
                        <span style="color: #999; font-size: 0.9rem;">2023/12/20</span>
                    </div>
                    <h3 class="mb-1">æ­¡æ…¶è–èª•ï¼æŒ‡å®šä¿æ¯æœå‹™ 85 æŠ˜</h3>
                    <p style="color: #666; margin-bottom: 1rem;">
                        å³æ—¥èµ·è‡³å¹´åº•ï¼Œé ç´„å¸¶æœ‰ã€Œè–èª•å¿«æ¨‚ã€æ¨™ç±¤çš„ä¿æ¯ï¼Œçµå¸³è¼¸å…¥å„ªæƒ ç¢¼ XMAS2023 å³å¯äº«æœ‰æŠ˜æ‰£...
                    </p>
                    <a href="#" class="text-primary" style="font-weight: 700;">é–±è®€æ›´å¤š -></a>
                </div>
            </div>

        </div>
    </div>

    <footer id="main-footer" style="background-color: #f9f9f9; margin-top: 4rem;"></footer>
    <script src="../../static/js/frontend/main.js"> </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetchNews();
        });

        async function fetchNews() {
            try {
                // å‘¼å«å¾Œç«¯ API
                const response = await fetch('/api/news/public/list');
                if (!response.ok) throw new Error('ç¶²è·¯å›æ‡‰éŒ¯èª¤');

                const newsData = await response.json();
                renderNews(newsData);
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('news-list').innerHTML = '<p>è¼‰å…¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚</p>';
            }
        }

        function renderNews(data) {
            const container = document.getElementById('news-list');
            container.innerHTML = ''; // æ¸…ç©ºè¼‰å…¥æ–‡å­—

            if (data.length === 0) {
                container.innerHTML = '<p>ç›®å‰æ²’æœ‰æœ€æ–°æ¶ˆæ¯ã€‚</p>';
                return;
            }

            data.forEach(news => {
                const date = new Date(news.createdTime).toLocaleDateString();
                const html = `
                             <div class="news-card">
                                <div class="news-title">
                                      <span class="tag">å…¬å‘Š</span> ${news.title}
                                    </div>
                                    <div class="news-meta">
                                        <i class="far fa-calendar-alt"></i> ç™¼å¸ƒæ—¥æœŸ: ${date}
                                    </div>
                                    <div class="news-content">
                                        ${news.content.substring(0, 100)}... <a href="#">é–±è®€æ›´å¤š</a>
                                    </div>
                                </div>
                                `;
                container.innerHTML += html;
            });
        }
    </script>
</body>

</html>