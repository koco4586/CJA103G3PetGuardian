<!DOCTYPE html>
<html lang="zh-TW" xmlns:th="http://www.thymeleaf.org">

<!-- Dashboard Sidebar Fragment -->
<!-- 使用方式: <div th:replace="~{frontend/fragments/dashboard-sidebar :: sidebar(activePage='profile')}"></div> -->
<!-- activePage 參數: 'profile', 'pets', 'orders', 'bookings', 'favorites', 'sitter-registration' -->

<div th:fragment="sidebar(activePage)" class="sidebar">
    <div class="text-center mb-2">
        <div class="avatar-wrapper">
            <!-- 會員頭像：根據 memId 對應預設圖片 -->
            <img th:if="${currentMember != null}" class="avatar" alt="會員頭像"
                th:src="@{'/images/member/' + ${
                    currentMember.memId == 1001 ? 'aed4ec81-2887-41e6-8ed3-cd4cd6aa17f3_petguardianMember01.png' :
                    currentMember.memId == 1002 ? 'f087dc7d-e8f6-4141-9f3f-7bf348eed1dd_petguardianMember02.png' :
                    currentMember.memId == 1003 ? '5339505b-43fc-4742-b105-d3007f4e368e_petguardianMember03.png' :
                    currentMember.memId == 1004 ? 'ef9c5c24-11d8-4a72-9f9c-d7a7414c845f_petguardianMember04.png' :
                    currentMember.memId == 1005 ? '59fdf1f1-030c-4b20-bc42-83d0a25c40d6_petguardianMember05.png' :
                    'aed4ec81-2887-41e6-8ed3-cd4cd6aa17f3_petguardianMember01.png'
                }}">
            <img th:unless="${currentMember != null}"
                src="/images/member/aed4ec81-2887-41e6-8ed3-cd4cd6aa17f3_petguardianMember01.png" class="avatar" alt="預設頭像">
        </div>
        <h4 th:text="${currentMember != null and currentMember.memName != null} ? ${currentMember.memName} : '會員中心'">
            會員中心</h4>
<!--        <p style="color: #999; font-size: 0.9rem;">一般會員</p>-->
    </div>
    <nav>
        <a href="/html/frontend/member/management/member_management.html" class="menu-item"
            th:classappend="${activePage == 'profile'} ? ' active' : ''">
            <i class="fas fa-user"></i> 個人資料
        </a>
        <a href="/pet/dashboard" class="menu-item" th:classappend="${activePage == 'pets'} ? ' active' : ''">
            <i class="fas fa-paw"></i> 我的寵物
        </a>
        <a href="/dashboard/orders" class="menu-item" th:classappend="${activePage == 'orders'} ? ' active' : ''">
            <i class="fas fa-receipt"></i> 商城訂單紀錄
        </a>
        <a href="/booking/memberOrders" class="menu-item" th:classappend="${activePage == 'bookings'} ? ' active' : ''">
            <i class="fas fa-calendar-check"></i> 保母預約紀錄
        </a>
        <a href="/dashboard/favorites" class="menu-item" th:classappend="${activePage == 'favorites'} ? ' active' : ''">
            <i class="fas fa-heart"></i> 收藏列表
        </a>
        <a href="/sitter/apply" class="menu-item"
            th:classappend="${activePage == 'sitter-registration'} ? ' active' : ''"
            style="border-top: 1px solid #eee; margin-top: 0.5rem; padding-top: 0.5rem;">
            <i class="fas fa-user-plus"></i> 成為保母
        </a>
    </nav>
</div>

</html>