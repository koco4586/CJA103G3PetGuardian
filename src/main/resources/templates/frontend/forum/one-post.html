<!DOCTYPE html>
<html lang="zh-TW" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>[[${forumPostVO.postTitle}]] | PetGuardian</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* --- åŸºç¤è¨­å®š --- */
:root { --primary-orange: #ff9800; --deep-brown: #5d4037; --soft-bg: #fdfdfd; --text-dark: #2d3436; }
body { background-color: #f8f9fa; font-family: "Microsoft JhengHei", Arial, sans-serif; margin: 0; padding: 0; }

.forum-header-mini {
    background: linear-gradient(135deg, #fffcf5 0%, #faedcd 100%);
    padding: 1.5rem 0; margin-bottom: 2rem;
    border-bottom-left-radius: 24px; border-bottom-right-radius: 24px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.main-container { display: flex; max-width: 1200px; margin: 0 auto; gap: 24px; padding: 0 20px 40px; align-items: flex-start; }

.post-user-sidebar {
    width: 160px; flex-shrink: 0; background: #fff; border-radius: 16px; padding: 24px 15px;
    text-align: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); position: sticky; top: 20px; border: 1px solid #eee;
}
.user-avatar { width: 90px; height: 90px; border-radius: 50%; margin-bottom: 15px; border: 3px solid var(--primary-orange); object-fit: cover; }
.user-name { font-weight: 800; color: var(--deep-brown); font-size: 1.1rem; margin-bottom: 8px; }

.post-article-area {
    flex: 1; 
    background: #fff; 
    border-radius: 16px; 
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); 
    border: 1px solid #eee;
    overflow: visible !important; 
    position: relative; 
    z-index: 10;
    
    /* é«˜åº¦è¨­å®š (æ‚¨åŸæœ¬åŠ çš„) */
    min-height: 600px;
    display: flex; 
    flex-direction: column;

    /* âœ¨ æ–°å¢é€™è¡Œï¼šå¼·åˆ¶å¯¬åº¦ä½”æ»¿ 100%ï¼Œé˜²æ­¢å…§å®¹å°‘æ™‚è®Šçª„ */
    width: 100%; 
}

.article-content-wrapper { 
    padding: 30px; 
    position: relative; 
    z-index: 20; 
    overflow: visible !important; 
    
    /* âœ¨ æ–°å¢é€™å…©è¡Œï¼šç¢ºä¿å…§éƒ¨å…§å®¹ä¹Ÿæ’æ»¿å¯¬åº¦ */
    width: 100%;
    box-sizing: border-box; 
}

/* é ‚éƒ¨å·¥å…·åˆ— */
.article-top-bar {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;
    width: 100%; position: relative; z-index: 100;
}
.btn-back { text-decoration: none; color: var(--primary-orange); font-weight: 800; display: inline-flex; align-items: center; gap: 8px; transition: transform 0.2s; }
.btn-back:hover { transform: translateX(-5px); }

/* --- é€šç”¨ä¸‹æ‹‰é¸å–®æ¨£å¼ --- */
.options-dropdown { position: relative; display: inline-block; z-index: 500; }

.btn-options-trigger {
    background: #f0f0f0; border: none; width: 36px; height: 36px; border-radius: 50%;
    color: #666; cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: all 0.2s; position: relative;
}
.btn-options-trigger:hover { background: #e0e0e0; color: var(--primary-orange); }

/* ç•™è¨€å€çš„å°æŒ‰éˆ• */
.comment-options .btn-options-trigger { width: 30px; height: 30px; font-size: 0.9rem; background: transparent; }
.comment-options .btn-options-trigger:hover { background: #f5f5f5; }

.dropdown-menu {
    display: none; position: absolute; right: 0; top: 100%; margin-top: 8px;
    background-color: white; min-width: 150px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15); 
    border: 1px solid #eee; border-radius: 12px;
    z-index: 9999 !important; text-align: left;
    overflow: hidden;
}
.dropdown-menu.show { display: block !important; animation: menuPop 0.2s ease-out; }

.dropdown-menu a {
    color: var(--deep-brown); padding: 10px 16px; text-decoration: none;
    display: flex; align-items: center; font-size: 14px; font-weight: 700;
    transition: background 0.1s; cursor: pointer; white-space: nowrap;
}
.dropdown-menu a:hover { background-color: #fff8e1; color: var(--primary-orange); }
.dropdown-menu a i { margin-right: 12px; width: 20px; text-align: center; }

/* --- å…§å®¹æ¨£å¼ (è³ªæ„Ÿå‡ç´š) --- */
.post-title { font-size: 1.8rem; font-weight: 900; color: var(--deep-brown); margin: 0 0 15px 0; position: relative; z-index: 1; }
.post-meta-top { color: orange; font-size: 0.9rem; font-weight: 600; margin-bottom: 24px; display: flex; gap: 20px; border-bottom: 2px solid #f9f9f9; padding-bottom: 15px; }

/* âœ¨ æ–‡ç« å…§å®¹å„ªåŒ–ï¼šåŠ ç²—ã€æ·±è‰²ã€è¡Œè·ã€å°é½Š */
.post-main-text { 
    line-height: 1.9; 
    font-size: 1.1rem; 
    font-weight: 700; /* åŠ ç²— */
    color: var(--text-dark); /* æ·±è‰²æ›´æœ‰è³ªæ„Ÿ */
    white-space: pre-wrap; 
    margin-bottom: 30px;
    letter-spacing: 0.5px; /* å¢åŠ ä¸€é»å­—è· */
    text-align: justify; /* å·¦å³å°é½Šï¼Œç‰ˆé¢æ›´æ•´é½Š */
    min-height: 200px;
    height: auto;
}

/* åœ–ç‰‡å€å¡Š */
.post-img-box { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 25px; }
@media (max-width: 768px) { .post-img-box { grid-template-columns: repeat(1, 1fr); } }

.zoomable-img {
    width: 100%; height: 200px; object-fit: cover; border-radius: 12px;
    cursor: zoom-in; border: 1px solid #eee; transition: transform 0.2s;
}
.zoomable-img:hover { transform: translateY(-3px); }

/* --- ç•™è¨€å€å¡Š --- */
.comment-section { background: #fffcf8; border-top: 1px solid #f0e6d6; padding: 30px; }
.comment-section h4 { font-weight: 800; color: var(--deep-brown); margin-bottom: 20px; border-left: 4px solid var(--primary-orange); padding-left: 12px; }

.comment-item { display: flex; gap: 15px; padding: 20px 0; border-bottom: 1px solid #eee; position: relative; }
.comment-user-mini-img { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--primary-orange); flex-shrink: 0; }
.comment-body { flex: 1; min-width: 0; }

.comment-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
.comment-info { display: flex; flex-direction: column; }
.comment-user-name { font-weight: 800; font-size: 0.95rem; color: var(--primary-orange); }
.comment-time { color: #999; font-size: 0.8rem; margin-top: 2px; }

/* âœ¨ ç•™è¨€å…§å®¹å„ªåŒ–ï¼šåŠ ç²—ã€æ·±è‰² */
.comment-content { 
    font-size: 1rem; 
    color: #34495e; /* æ·±ç°è—è‰² */
    line-height: 1.7; 
    font-weight: 600; /* åŠç²—é«” */
    word-break: break-word; 
}

/* ç•™è¨€è¼¸å…¥æ¡† */
.reply-box-modern {
    margin-top: 30px; background: #fff; border: 2px solid #eee; border-radius: 16px;
    padding: 0; transition: all 0.3s; overflow: hidden; position: relative;
}
.reply-box-modern:focus-within { border-color: var(--primary-orange); box-shadow: 0 0 0 4px rgba(255, 152, 0, 0.1); }
.reply-textarea { width: 100%; border: none; padding: 20px; resize: none; font-size: 15px; font-weight: 500; outline: none; display: block; box-sizing: border-box; min-height: 100px; }
.reply-footer { background: #fcfcfc; padding: 10px 20px; border-top: 1px solid #f0f0f0; display: flex; justify-content: flex-end; align-items: center; }
.reply-submit-btn { background-color: var(--primary-orange); color: white; border: none; padding: 8px 24px; border-radius: 20px; font-weight: 700; cursor: pointer; transition: 0.2s; font-size: 0.95rem; }
.reply-submit-btn:hover { background-color: #f57c00; transform: translateY(-1px); }

/* --- å³å´é‚Šæ¬„ (ä¿®å¾©ä¸¦åŠ å¼·æ–‡å­—è³ªæ„Ÿ) --- */
.post-sidebar { width: 280px; flex-shrink: 0; }
.sidebar-card {
    background: #fff; border-radius: 16px; padding: 25px;
    margin-bottom: 24px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); border: 1px solid #eee;
}
.sidebar-card h4 {
    font-weight: 800; color: var(--deep-brown); margin-top: 0; margin-bottom: 15px; 
    border-left: 4px solid var(--primary-orange); padding-left: 10px; font-size: 1.1rem;
}
/* âœ¨ å…¬å‘Šæ–‡å­—å„ªåŒ– */
.sidebar-desc { 
    font-size: 0.95rem; 
    font-weight: 700; /* åŠ ç²— */
    color: #5d4037; /* æ·±æ£•è‰²ï¼Œèˆ‡æ¨™é¡Œå‘¼æ‡‰ */
    line-height: 1.8; 
    margin: 0; 
}

.transparent-popup { background: transparent !important; box-shadow: none !important; border: none !important; }
.zoom-out-img { cursor: zoom-out; max-width: 95vw; max-height: 95vh; object-fit: contain; }
@keyframes menuPop { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

/* ç•™è¨€ç·¨è¼¯æ¨¡å¼ä¸‹çš„æŒ‰éˆ•å®¹å™¨ */
.edit-buttons {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    margin-top: 10px;
}

/* å„²å­˜æŒ‰éˆ• - å……æ»¿æ´»åŠ›çš„æ©˜è‰² */
.btn-save {
    background-color: var(--primary-orange);
    color: white;
    border: none;
    padding: 6px 18px;
    border-radius: 20px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 4px rgba(255, 152, 0, 0.2);
}

.btn-save:hover {
    background-color: #f57c00;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);
}

/* å–æ¶ˆæŒ‰éˆ• - æº«æ½¤çš„æ·¡è‰²èƒŒæ™¯ */
.btn-cancel {
    background-color: #f5f5f5;
    color: var(--deep-brown);
    border: 1px solid #ddd;
    padding: 6px 18px;
    border-radius: 20px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-cancel:hover {
    background-color: #eeeeee;
    border-color: #ccc;
    color: #333;
}

/* æŒ‰éˆ•é»æ“Šæ™‚çš„ä¸‹å£“æ•ˆæœ */
.btn-save:active, .btn-cancel:active {
    transform: translateY(0);
}
</style>
</head>

<body>
    <div class="forum-header-mini">
        <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
            <h2 style="color: var(--deep-brown); margin: 0; font-weight: 900;">ğŸ¾å¯µç‰©ç¤¾ç¾¤è²¼æ–‡</h2>
        </div>
    </div>

    <div class="main-container">
        <aside class="post-user-sidebar" th:if="${forumPostVO.member.memId}">
            <img th:src="@{'/images' + ${forumPostVO.member.memImage}}" class="user-avatar" alt="Avatar">
            <div th:text="${forumPostVO.member.memName}" class="user-name">åŸPOå¤§å¤§</div>
        </aside>

        <main class="post-article-area">
            <div class="article-content-wrapper">
                
                <div class="article-top-bar">
                    <a th:href="@{/forumpost/get-forum-id-for-posts(forumId=${forumId}, forumName=${forumName})}" class="btn-back"> 
                        <i class="fas fa-arrow-left"></i> è¿”å› [[${forumName}]] åˆ—è¡¨
                    </a>
                    
                    <div class="options-dropdown">
                        <button type="button" class="btn-options-trigger" onclick="toggleMenu(event, 'postMenu')">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                        <div class="dropdown-menu" id="postMenu">
                            <a th:href="@{/forumpost/add-collection(postId=${forumPostVO.postId}, forumId=${forumId})}">
                                <i class="far fa-bookmark"></i> æ”¶è—æ–‡ç« 
                            </a> 
                            <a th:href="@{/forumpost/report-post(postId=${forumPostVO.postId})}">
							    <i class="far fa-flag"></i> æª¢èˆ‰æ–‡ç« 
							</a>
                            <a th:href="@{/forumpost/update-post(postId=${forumPostVO.postId}, forumId=${forumId})}"
                               th:if="${userId != null and userId == forumPostVO.member.memId}">
                                <i class="far fa-edit"></i> ä¿®æ”¹æ–‡ç« 
                            </a>
                            <a th:href="@{/forumpost/delete-post(postId=${forumPostVO.postId}, forumId=${forumId})}" 
                               th:if="${userId != null and userId == forumPostVO.member.memId}"
                               style="color: #e74c3c;">
							    <i class="far fa-trash-alt"></i> åˆªé™¤æ–‡ç« 
							</a>
                        </div>
                    </div>
                </div>

                <h1 class="post-title" th:text="${forumPostVO.postTitle}"></h1>
                <div class="post-meta-top">
                    <span><i class="far fa-clock"></i> <span class="need-timeago" th:datetime="${forumPostVO.createdAt}"></span></span>
                </div>
                <div class="post-main-text" th:text="${forumPostVO.postContent}"></div>
                
                <div class="post-img-box" th:if="${not #lists.isEmpty(picsId)}">
                    <th:block th:each="picId : ${picsId}">
                        <img th:src="@{/forum/get-pic-id-for-pic(picId=${picId})}" alt="è²¼æ–‡ç…§ç‰‡"
                             class="zoomable-img" onclick="openImageModal(this.src)">
                    </th:block>
                </div>

                <section class="comment-section">
                    <h4><i class="far fa-comments"></i> ç•™è¨€å›è¦†</h4>
                    
                    <th:block th:each="forumPostCommentVO, iterStat : ${forumPostVO.forumPostComments}">
					    <div class="comment-item">
					        <img th:src="@{'/images' + ${forumPostCommentVO.member.memImage}}" class="comment-user-mini-img">
					        <div class="comment-body">
					            <div class="comment-header">
					                <div class="comment-info">
					                    <span class="comment-user-name" th:text="${forumPostCommentVO.member.memName}">æœƒå“¡åç¨±</span> 
					                    <span class="comment-time need-timeago" th:datetime="${forumPostCommentVO.lastEditedAt}"></span>
					                </div>
					                
					                <div class="options-dropdown comment-options">
					                    <button type="button" class="btn-options-trigger" 
					                            th:onclick="|toggleMenu(event, 'commentMenu-${iterStat.index}')|">
					                        <i class="fas fa-ellipsis-h"></i>
					                    </button>
					                    <div class="dropdown-menu" th:id="|commentMenu-${iterStat.index}|">
					                        <a href="javascript:void(0)" 
											   th:if="${userId != null and userId == forumPostCommentVO.member.memId}"
											   th:onclick="|switchToEditMode('${forumPostCommentVO.commentId}')|">
											    <i class="fas fa-pen"></i> ç·¨è¼¯ç•™è¨€
											</a>
					                        <a th:href="@{/forumpost/report-comment(commentId=${forumPostCommentVO.commentId})}">
					                            <i class="fas fa-exclamation-circle"></i> æª¢èˆ‰ç•™è¨€
					                        </a>
					                        <a th:href="@{/forumpost/delete-comment(commentId=${forumPostCommentVO.commentId}, postId=${forumPostVO.postId}, forumId=${forumId})}" 
					                           th:if="${userId != null and userId == forumPostCommentVO.member.memId}"
					                           style="color: #e74c3c;">
					                            <i class="far fa-trash-alt"></i> åˆªé™¤ç•™è¨€
					                        </a>
					                    </div>
					                </div>
					            </div>
					
					            <div class="comment-content" th:id="|comment-display-${forumPostCommentVO.commentId}|" th:text="${forumPostCommentVO.commentContent}"></div>
					
					            <div th:id="|comment-edit-${forumPostCommentVO.commentId}|" style="display: none; margin-top: 10px;">
					                <form th:action="@{/forumpost/update-comment-submit}" th:object="${forumCommentVO}" method="post">
					                    <input type="hidden" name="commentId" th:value="${forumPostCommentVO.commentId}">
					                    <input type="hidden" name="postId" th:value="${forumPostVO.postId}">
					                    <input type="hidden" name="forumId" th:value="${forumId}">
					                    
					                    <textarea name="commentContent" class="form-control" 
					                              style="width: 100%; border-radius: 10px; padding: 10px; border: 1px solid #ddd;"
					                              th:text="${forumPostCommentVO.commentContent}"></textarea>
					                    
					                    <div class="edit-buttons">
										    <button type="button" class="btn-cancel" 
										            th:onclick="|switchToDisplayMode('${forumPostCommentVO.commentId}')|">å–æ¶ˆ</button>
										    <button type="submit" class="btn-save">å„²å­˜</button>
										</div>
					                    
					                    <div id="updateCommentError" 
										     th:if="${#fields.hasErrors('commentContent')}" 
										     th:errors="*{commentContent}" 
										     style="display: none;">
										</div>
					                </form>
					            </div>
					        </div>
					    </div>
					</th:block>

                    <form th:action="@{/forumpost/insert-comment}" method="post" th:object="${forumCommentVO}" class="reply-box-modern">
                        <input type="hidden" name="postId" th:value="${forumPostVO.postId}"> 
                        <input type="hidden" name="forumId" th:value="${forumId}"> 
                        <input type="hidden" name="forumName" th:value="${forumName}">
                        
                        <textarea class="reply-textarea" th:field="*{commentContent}" placeholder="è«‹ä¿æŒå‹å–„ç™¼è¨€ï¼Œåˆ†äº«æ‚¨çš„çœ‹æ³•..."></textarea>
                        
                        <div class="reply-footer">
                            <button type="submit" class="reply-submit-btn">ç™¼ä½ˆç•™è¨€</button>
                        </div>
                        <div id="commentError" 
						     th:if="${#fields.hasErrors('commentContent')}" 
						     th:errors="*{commentContent}" 
						     style="display: none;">
						</div>
                    </form>

                </section>
            </div>
        </main>

        <aside class="post-sidebar">
            <div class="sidebar-card">
                <h4>ç¶²ç«™å…¬å‘Š</h4>
                <p class="sidebar-desc">è«‹ä¿æŒå‹å–„ç™¼è¨€ï¼Œåš´ç¦è¬¾ç½µæˆ–äººèº«æ”»æ“Šã€‚è®“æˆ‘å€‘ä¸€èµ·ç‡Ÿé€ æº«æš–ã€æœ‰æ„›çš„å¯µç‰©ç¤¾ç¾¤ã€‚</p>
            </div>
        </aside>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/timeago.js/4.0.2/timeago.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script th:src="@{/js/frontend/main.js}"></script>
    
    <script th:inline="javascript">
        document.addEventListener('DOMContentLoaded', function() {
            const nodes = document.querySelectorAll('.need-timeago');
            if (nodes.length) timeago.render(nodes, 'zh_TW');
            
            
            const errorEl = document.getElementById('commentError');
            // åªæœ‰ç•¶ Spring Validation é©—è­‰å¤±æ•—ç”¢ç”ŸéŒ¯èª¤æ¨™ç±¤æ™‚ï¼Œæ‰æœƒåŸ·è¡Œ
            if (errorEl && errorEl.textContent.trim() !== "") {
                Swal.fire({ 
                    icon: 'warning', 
                    title: 'ç•™è¨€å¤±æ•—', 
                    text: errorEl.textContent, // æŠ“å– th:errors ç”¢ç”Ÿçš„æ–‡å­—
                    confirmButtonColor: '#ff9800' 
                });
            }
            
            const updateErrorEl = document.getElementById('updateCommentError');
            // åªæœ‰ç•¶ Spring Validation é©—è­‰å¤±æ•—ç”¢ç”ŸéŒ¯èª¤æ¨™ç±¤æ™‚ï¼Œæ‰æœƒåŸ·è¡Œ
            if (updateErrorEl && updateErrorEl.textContent.trim() !== "") {
                Swal.fire({ 
                    icon: 'warning', 
                    title: 'ç•™è¨€å¤±æ•—', 
                    text: updateErrorEl.textContent, // æŠ“å– th:errors ç”¢ç”Ÿçš„æ–‡å­—
                    confirmButtonColor: '#ff9800' 
                });
            }
            
         	// å–å¾— Flash Attribute å‚³ä¾†çš„è¨Šæ¯
    		const successMsgs = [[${successMsgs}]];
    		
    		if (successMsgs) {
    			
    		    Swal.fire({
    		        icon: 'success',
    		        title: 'å¤ªæ£’äº†ï¼',
    		        text: successMsgs,
    		        timer: 2000, // 2ç§’å¾Œè‡ªå‹•æ¶ˆå¤±
    		        showConfirmButton: false,
    		        background: '#fffcf9',
    		   });
    	   }
    		
    	   // å–å¾— Flash Attribute å‚³ä¾†çš„è¨Šæ¯
    	   const errorMsgs = [[${errorMsgs}]];
    		
    	   if (errorMsgs) {
    			
    		   Swal.fire({
    		       icon: 'warning',
    		       title: 'éŒ¯èª¤',
    		       text: errorMsgs,
    		       timer: 2000, // 2ç§’å¾Œè‡ªå‹•æ¶ˆå¤±
    		       showConfirmButton: false,
    		       background: '#fffcf9',
    		  });
    	   }
            
        });

        // é€šç”¨é¸å–®åˆ‡æ›
        function toggleMenu(event, menuId) {
            event.stopPropagation();
            event.preventDefault();
            
            document.querySelectorAll('.dropdown-menu.show').forEach(el => {
                if (el.id !== menuId) el.classList.remove('show');
            });

            const menu = document.getElementById(menuId);
            if(menu) menu.classList.toggle('show');
        }

        // é»æ“Šç©ºç™½è™•é—œé–‰é¸å–®
        window.addEventListener('click', function() {
            document.querySelectorAll('.dropdown-menu.show').forEach(el => {
                el.classList.remove('show');
            });
        });
        
     	// åˆ‡æ›è‡³ç·¨è¼¯æ¨¡å¼
        function switchToEditMode(commentId) {
            // 1. éš±è—åŸæœ¬çš„å…§å®¹ï¼Œé¡¯ç¤ºç·¨è¼¯è¡¨å–®
            document.getElementById(`comment-display-${commentId}`).style.display = 'none';
            document.getElementById(`comment-edit-${commentId}`).style.display = 'block';
            
            // 2. è‡ªå‹•é—œé–‰å·²ç¶“é–‹å•Ÿçš„ä¸‹æ‹‰é¸å–® (é¿å…é¸å–®å¡åœ¨ç•«é¢ä¸Š)
            document.querySelectorAll('.dropdown-menu.show').forEach(el => {
                el.classList.remove('show');
            });
        }

        // åˆ‡æ›å›é¡¯ç¤ºæ¨¡å¼ (å–æ¶ˆç·¨è¼¯æ™‚)
        function switchToDisplayMode(commentId) {
            document.getElementById(`comment-display-${commentId}`).style.display = 'block';
            document.getElementById(`comment-edit-${commentId}`).style.display = 'none';
        }

		// åœ–ç‰‡ç¸®æ”¾
        function openImageModal(imgUrl) {
            Swal.fire({
                imageUrl: imgUrl, showConfirmButton: false, background: 'transparent',
                backdrop: 'rgba(0,0,0,0.8)', customClass: { popup: 'transparent-popup', image: 'zoom-out-img' }
            });
        }
    </script>
</body>
</html>