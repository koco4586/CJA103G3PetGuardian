<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <title>Pet Guardian｜後台管理登入</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="../static/css/login.css">
</head>

<body>

    <div class="login-card">

        <div class="logo">
            <img src="../images/logo.png"
                alt="logo">
            <div>
                <h1>Pet Guardian</h1>
                <div class="sub">後台管理系統</div>
            </div>
        </div>

        <h2>管理員登入</h2>
        <div class="sub">請使用管理員帳號登入系統</div>

        <div class="form-group">
            <label>帳號</label>
            <div class="input">
                <i class="fa-solid fa-user"></i>
                <input id="account" type="text" placeholder="admin@example.com">
            </div>
        </div>

        <div class="form-group">
            <label>密碼</label>
            <div class="input">
                <i class="fa-solid fa-lock"></i>
                <input id="password" type="password" placeholder="••••••••">
            </div>
        </div>

        <button onclick="login()">登入後台</button>

        <div class="msg" id="msg">帳號或密碼錯誤</div>

    </div>

    <script>
        function login() {
            const acc = document.getElementById('account').value.trim();
            const pwd = document.getElementById('password').value.trim();
            const msg = document.getElementById('msg');

            if (!acc || !pwd) {
                msg.textContent = "請輸入帳號與密碼";
                msg.style.display = "block";
                return;
            }

            // === 串接後端用（Spring Boot） ===
            fetch('/admin/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ account: acc, password: pwd })
            })
                .then(r => {
                    if (r.ok) location.href = '/admin/dashboard';
                    else throw new Error();
                })
                .catch(() => {
                    msg.textContent = "帳號或密碼錯誤";
                    msg.style.display = "block";
                });
        }
    </script>

</body>

</html>