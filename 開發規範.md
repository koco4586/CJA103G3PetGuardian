# 專案開發規範與命名指南 (Development Guidelines)

- **專案名稱:** PetGuardian (CJA103G3)
- **適用對象:** 全體開發人員
- **最後更新:** 2026-01-17

---

## 1. 專案目錄結構 (Project Structure)

本專案採用 **功能模組化 (Feature-based)** 與 **MVC 分層** 結合的結構。請依照以下路徑存放檔案。

### 1.1 Java 後端結構 (`src/main/java`)

根據現有程式碼，Package 結構以 `com.[feature]` 為主：

| Package (套件) | 說明 | 內容範例 | 命名後綴規則 |
| :--- | :--- | :--- | :--- |
| `com.petguardian.[feature].model` | **資料層**：包含 Entity (VO)、傳輸物件(DTO)與 Repository (DAO) | `ForumVO.java`,`ForumDTO.java`,`ForumRepository.java` | VO /DTO /Repository |
| `com.petguardian.[feature].service` | **業務邏輯層**：包含 Service 介面與實作 | `ForumService.java` (介面), `ForumServiceImpl.java` (實作) | Service / ServiceImpl |
| `com.petguardian.[feature].controller` | **控制層**：處理 HTTP 請求 | `ForumController.java` | Controller |



### 1.2 前端資源結構 (`src/main/resources`)

Spring Boot 靜態資源與模板標準路徑：

* **HTML 模板 (Thymeleaf):** `src/main/resources/templates/`
    * *(可按模組建立子資料夾，如 `backend/[feature]`, `frontend/[feature]`)*
* **CSS 樣式表:** `src/main/resources/static/css/`
    * *(可按模組建立子資料夾，如 `backend/[feature]`, `frontend/[feature]`)*
* **JavaScript 腳本:** `src/main/resources/static/js/`
    * *(可按模組建立子資料夾，如 `backend/[feature]`, `frontend/[feature]`)*
* **圖片資源:** `src/main/resources/static/images/`

---

## 2. 命名規範 (Naming Conventions)

### 2.1 Java 後端命名

| 項目 | 規則 (Case) | 範例 | 備註 |
| :--- | :--- | :--- | :--- |
| **類別 (Class)** | **大駝峰 (PascalCase)** | `ForumPostVO`, `ForumController` | 必須名詞開頭，具描述性 |
| **介面 (Interface)** | **大駝峰 (PascalCase)** | `ForumService`, `ForumRepository` | 避免使用 `IForumService` |
| **變數 (Variable)** | **小駝峰 (camelCase)** | `forumId`, `forumName` | 禁止使用單一字母 (如 `i`, `n`) |
| **常數 (Constant)** | **全大寫 + 底線** | `MAX_PAGE_SIZE`, `DEFAULT_STATUS` | 必須宣告為 `static final` |
| **方法 (Method)** | **小駝峰 (camelCase)** | `getAllActive()`, `findByForumName()` | 動詞開頭 |

#### 分層命名詳細規範：

1.  **Entity / VO**: 對應資料庫 Table。
    * 範例: `News.java`, `ForumVO.java`
2.  **Repository / DAO**: 資料存取介面。
    * 範例: `NewsRepository.java` (Spring Data JPA 推薦) 或 `NewsDAO.java`
3.  **Service**: 業務邏輯介面 (Interface)。
    * 範例: `NewsService.java` (只定義方法，不寫實作)
4.  **Service Impl**: 業務邏輯實作 (Class)。
    * 範例: `NewsServiceImpl.java` (需加上 `@Service` 註解)
5.  **Controller 檔案分類：** **頁面控制器 (`@Controller`)：** 回傳 HTML。範例：`NewsController.java`。 **API 控制器 (`@RestController`)：** 回傳 JSON (供 Fetch 使用)。範例：`NewsApiController.java`。
### URL 路由命名規範 (Routing)

本文件定義專案中 URL 的命名標準，旨在確保路徑的可讀性與 API 的一致性。

#### A. 基本規則
* **格式要求**：URL 一律使用 **全小寫** 並以 **連字號** 分隔（kebab-case）。
* **禁止事項**：不使用底線（snake_case）或駝峰式命名（camelCase）。

#### B. 頁面路由 (Page Controller)
對應 `@Controller`，用於前端導覽與頁面切換。

* **命名格式**：`/[feature]/[page-name]`
* **範例**：
    * `/forum/post-list` (文章列表頁)
    * `/forum/post-edit` (編輯頁)

#### C. 資料 API 路由 (RESTful API)
對應 `@RestController`，用於前端 Fetch 資料，必須嚴格遵守 REST 規範。

* **設計原則**：
    * **名詞導向**：URL 代表「資源」，應使用 **名詞複數**。
    * **動詞分離**：具體動作由 **HTTP Method** 決定。
    * **路徑禁令**：URL 路徑中不可包含動詞（如：禁止使用 `/add`, `/update`, `/get`）。

**API 格式範例 (以 Forum 文章為例)：**

| 動作 | HTTP Method | URL 路徑 | 說明 |
| :--- | :--- | :--- | :--- |
| **查詢列表** | `GET` | `/api/forum-posts` | 取得所有文章 |
| **查詢單筆** | `GET` | `/api/forum-posts/{id}` | 依 ID 取得特定文章 |
| **新增** | `POST` | `/api/forum-posts` | 新增一篇文章 |
| **修改 (全量)** | `PUT` | `/api/forum-posts/{id}` | 更新特定文章 (覆蓋) |
| **修改 (部分)** | `PATCH` | `/api/forum-posts/{id}` | 更新特定欄位 (如狀態) |
| **刪除** | `DELETE` | `/api/forum-posts/{id}` | 刪除特定文章 |
| **子資源查詢** | `GET` | `/api/forum-posts/{id}/comments` | 取得該文章下的所有留言 |

### 2.2 前端檔案與資源命名

**重要規則：前端檔案與 URL 一律使用全小寫 + 連字號 (kebab-case)。**

| 項目 | 規則 | 範例 | 存放位置 |
| :--- | :--- | :--- | :--- |
| **HTML 檔名** | **全小寫 + 連字號** | `news-list.html`, `forum-detail.html` | `templates/` |
| **CSS 檔名** | **全小寫 + 連字號** | `news-style.css`, `main-layout.css` | `static/css/` |
| **JS 檔名** | **全小寫 + 連字號** | `news-validation.js`, `api-fetch.js` | `static/js/` |
| **圖片檔名** | **全小寫 + 連字號** | `logo-header.png`, `user-icon.jpg` | `static/images/` |
